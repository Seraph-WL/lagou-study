(function(b,c){var a={getRandom:function(e,d){e=Math.ceil(e);d=Math.floor(d);return Math.floor(Math.random()*(d-e+1))+e},getColor:function(){var f=this.getRandom(0,255);var e=this.getRandom(0,255);var d=this.getRandom(0,255);return"rgb("+f+","+e+","+d+")"}};b.Tools=a})(window,undefined);(function(b,d){var c="absolute";function a(e){e=e instanceof Object?e:{};this.width=e.width||20;this.height=e.height||20;this.x=e.x||0;this.y=e.y||0;this.color=e.color||"green";this.elements=[]}a.prototype.render=function(f){var e=document.createElement("div");this.x=Tools.getRandom(0,f.clientWidth/this.width-1)*this.width;this.y=Tools.getRandom(0,f.clientHeight/this.height-1)*this.height;e.style.width=this.width+"px";e.style.height=this.height+"px";e.style.left=this.x+"px";e.style.top=this.y+"px";e.style.backgroundColor=this.color;e.style.position=c;f.appendChild(e);this.elements.push(e)};a.prototype.remove=function(f,e){f.removeChild(this.elements[e]);this.elements.splice(e,1)};b.Food=a})(window,undefined);(function(b,d){var c="absolute";function a(e){e=e instanceof Object?e:{};this.width=e.width||20;this.height=e.height||20;this.body=[{x:3,y:2,color:"red"},{x:2,y:2,color:"blue"},{x:1,y:2,color:"blue"}];this.direction="right";this.elements=[]}a.prototype.render=function(j){for(var f=0,e=this.body.length;f<e;f++){var g=this.body[f];var h=document.createElement("div");h.style.width=this.width+"px";h.style.height=this.height+"px";h.style.left=g.x*this.width+"px";h.style.top=g.y*this.height+"px";h.style.position=c;h.style.backgroundColor=g.color;j.appendChild(h);this.elements.push(h)}};a.prototype.move=function(){for(var f=this.body.length-1;f>0;f--){this.body[f].x=this.body[f-1].x;this.body[f].y=this.body[f-1].y}var e=this.body[0];switch(this.direction){case"right":e.x+=1;break;case"left":e.x-=1;break;case"top":e.y-=1;break;case"bottom":e.y+=1}};a.prototype.remove=function(f){for(var e=this.elements.length-1;e>=0;e--){f.removeChild(this.elements[e])}this.elements=[]};b.Snake=a})(window,undefined);(function(d,e){var c;function f(g){this.food=new Food();this.snake=new Snake();this.map=g;c=this}f.prototype.start=function(){this.food.render(this.map);this.food.render(this.map);this.food.render(this.map);this.snake.render(this.map);b();a()};function a(){document.onkeydown=function(g){switch(g.keyCode){case 37:c.snake.direction="left";break;case 38:c.snake.direction="top";break;case 39:c.snake.direction="right";break;case 40:c.snake.direction="bottom";break}}}function b(){var g=setInterval(function(){c.snake.move();c.snake.remove(c.map);c.snake.render(c.map);var n=c.map.offsetWidth/c.snake.width;var l=c.map.offsetHeight/c.snake.height;var h=c.snake.body[0].x;var p=c.snake.body[0].y;var o=h*c.snake.width;var m=p*c.snake.height;console.log(c.food.elements);for(var j=0;j<c.food.elements.length;j++){if(c.food.elements[j].offsetLeft===o&&c.food.elements[j].offsetTop===m){c.food.remove(c.map,j);c.food.render(c.map);var k=c.snake.body[c.snake.body.length-1];c.snake.body.push({x:k.x,y:k.y,color:k.color})}}if(h<0||h>=n||p<0||p>=l){clearInterval(g);alert("Game over")}},150)}d.Game=f})(window,undefined);(function(b,d){var c=document.getElementById("map");var a=new Game(c);a.start()})(window,undefined);